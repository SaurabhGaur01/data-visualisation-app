(this["webpackJsonpdata-visualisation-app"]=this["webpackJsonpdata-visualisation-app"]||[]).push([[0],{104:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),c=a.n(i),s=a(16),l=a(12),u=a(87),o="modules/data-visualisation-app/SET_FEATURES",d="modules/data-visualisation-app/CLEAR_FEATUREs",f="ERROR",b="LOADING",p="SUCCESS",j="modules/data-visualisation-app/SET_LOADING_IN_PROGRESS",h="modules/data-visualisation-app/SET_LOADING_SUCCESS",v="modules/data-visualisation-app/SET_LOADING_ERROR",O="construction",g="none",m="modules/data-visualisation-app/SET_FILTER_BY",E=function(e){return{type:m,value:e}},x="modules/data-visualisation-app/SET_FILTERED_FEATURES",y="modules/data-visualisation-app/CLEAR_FILTERED_FEATURES",N=function(e){return{type:x,data:e}},S="modules/data-visualisation-app/SET_SELECTED_MATERIAL",_="modules/data-visualisation-app/SET_FILTERED_MATERIAL",A="modules/data-visualisation-app/CLEAR_FILTERED_MATERIAL",R=function(e){return{type:_,data:e}},L=Object(l.b)({features:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case o:return t.data;case d:return[];default:return e}},apiStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case v:return f;case h:return p;case j:return b;default:return e}},filterBy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case m:return t.value;default:return e}},filteredFeatures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case x:return t.data;case y:return[];default:return e}},selectedMaterial:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case S:return t.value;default:return e}},filteredMaterial:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case _:return t.data;case A:return[];default:return e}}}),T=(a(103),a(104),a(265)),I=a(266),w=a(31),C=a(264),F=a(263),B=a(267),D=a(220),P=a(261),M=a(256),U=a(260),k=a(269),H=a(6),G=[{id:"material",label:"Material"},{id:"area",label:"Area"},{id:"status",label:"Status"},{id:"assetNumb",label:"Asset Number"},{id:"owner",label:"Owner"}],z=function(){return Object(H.jsx)(M.a,{children:Object(H.jsx)(U.a,{children:G.map((function(e){var t=e.id,a=e.label;return Object(H.jsx)(P.a,{align:"right",children:Object(H.jsx)(k.a,{children:a})},t)}))})})},J=a(262),W=function(e){var t=[];return e.forEach((function(e){var a=e.id,n=e.properties,r=n.type,i=n.material,c=n.area_,s=n.status,l=n.asset_numb,u=n.owner;t.push({rowID:a,type:r,material:i,area:c,status:s,assetNumb:l,owner:u})})),t},Y=function(e){return e.filter((function(e){var t=e.area;return t>=0&&t<=50}))},Z=function(e){return e.filter((function(e){var t=e.area;return t>50&&t<200}))},q=function(e){return e.filter((function(e){return e.area>=200}))},K=function(e,t,a){return t===O?e.filter((function(e){return e.material===a})):"[0, 50]"===a?Y(e):"[50, 200]"===a?Z(e):q(e)},Q={actionHandleMaterial:function(e){return function(t,a){var n=a(),r=n.features,i=n.filterBy,c=K(r,i,e);t(R(c))}}},V=Object(l.c)(Object(s.b)((function(e){return{filteredFeatures:e.filteredFeatures}}),Q))((function(e){var t=e.filteredFeatures,a=e.actionHandleMaterial,n=e.rowsPerPage,r=e.page;return Object(H.jsx)(J.a,{children:t.slice(r*n,r*n+n).map((function(e){return Object(H.jsxs)(U.a,{hover:!0,onClick:function(t){a(e.material)},role:"checkbox",tabIndex:-1,children:[Object(H.jsx)(P.a,{align:"right",children:e.material}),Object(H.jsx)(P.a,{align:"right",children:e.area}),Object(H.jsx)(P.a,{align:"right",children:e.status}),Object(H.jsx)(P.a,{align:"right",children:e.assetNumb}),Object(H.jsx)(P.a,{align:"right",children:e.owner})]},e.rowID)}))})})),X=Object(l.c)(Object(s.b)((function(e){return{filteredFeatures:e.filteredFeatures}})))((function(e){var t=e.filteredFeatures,a=r.a.useState(0),n=Object(w.a)(a,2),i=n[0],c=n[1],s=r.a.useState(10),l=Object(w.a)(s,2),u=l[0],o=l[1];return Object(H.jsx)(D.a,{className:"mt-3",children:Object(H.jsxs)(F.a,{children:[Object(H.jsxs)(C.a,{className:"table-content","aria-labelledby":"tableTitle",size:"small","aria-label":"enhanced table",children:[Object(H.jsx)(z,{}),Object(H.jsx)(V,{page:i,rowsPerPage:u})]}),Object(H.jsx)(B.a,{rowsPerPageOptions:[10,25],component:"div",count:t.length,rowsPerPage:u,page:i,onChangePage:function(e,t){c(t)},onChangeRowsPerPage:function(e){o(parseInt(e.target.value,10)),c(0)}})]})})})),$=a(88),ee=["rgba(255, 99, 132)","rgba(54, 162, 235)","rgba(255, 206, 86)","rgba(75, 192, 192)","rgba(153, 102, 255)","rgba(255, 159, 64)"],te={responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}],xAxes:[{barPercentage:.4}]}},ae={actionHandleSelectedDataSet:function(e){return function(t,a){var n=a(),r=n.features,i=n.filterBy,c=K(r,i,e);t(N(c))}}},ne=Object(l.c)(Object(s.b)((function(e){return{filterBy:e.filterBy,filteredMaterial:e.filteredMaterial}}),ae))((function(e){var t=e.filteredMaterial,a=e.filterBy,n=e.actionHandleSelectedDataSet,r=[],i=[],c=[],s="";a===O?(r=function(e){var t={};return e.forEach((function(e){t[e.material]=(t[e.material]||0)+1})),t}(t),Object.entries(r).forEach((function(e){var t=Object(w.a)(e,2),a=t[0],n=t[1];i.push(a),c.push(n)})),s="# of Ramps per construction material"):(r=function(e){return{"[0, 50]":Y(e).length,"[50, 200]":Z(e).length,"[200, 526]":q(e).length}}(t),Object.entries(r).forEach((function(e){var t=Object(w.a)(e,2),a=t[0],n=t[1];i.push(a),c.push(n)})),s="# of Ramps per size category");var l={labels:i,datasets:[{label:s,data:c,backgroundColor:ee,borderWidth:2}]};return Object(H.jsx)("div",{className:"chart-container",children:Object(H.jsx)($.Bar,{data:l,options:te,getElementAtEvent:function(e){if(e.length){var t=e[0]._model.label;n(t)}}})})})),re=function(){return function(e,t){var a=t().features;e(R(a)),e(N(a)),e(E(O))}},ie={actionSetFilterBy:E,actionHandleReset:re},ce=Object(l.c)(Object(s.b)((function(e){return{filterBy:e.filterBy}}),ie))((function(e){var t=e.actionSetFilterBy,a=e.actionHandleReset,n=e.filterBy;return Object(H.jsxs)("div",{className:"filter-by mr-5",children:[Object(H.jsx)("span",{className:"filter-heading pr-2",children:"Filter By"}),Object(H.jsxs)("select",{id:"filter-by",name:"filter-by",className:"input",onChange:function(e){t(e.target.value),e.target.value===g&&a()},value:n,children:[Object(H.jsx)("option",{value:O,children:"Material"}),Object(H.jsx)("option",{value:"category",children:"Size"}),Object(H.jsx)("option",{value:g,children:"None"})]})]})})),se=a(59),le=a.n(se),ue=a(89),oe=a(90),de=a.n(oe),fe=function(){return function(){var e=Object(ue.a)(le.a.mark((function e(t){var a,n,r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:j}),e.prev=1,e.next=4,de.a.get("./boat_ramps.geojson");case 4:a=e.sent,n=a.data.features,r=W(n),t({type:o,data:r}),t(N(r)),t(R(r)),t({type:h}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t({type:v});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},be=(a(218),{actionHandleGetData:fe}),pe=Object(l.c)(Object(s.b)(null,be))((function(e){var t=e.actionHandleGetData;return r.a.useEffect((function(){t()}),[t]),Object(H.jsxs)("div",{className:"dashboard-content",children:[Object(H.jsx)("h5",{className:"text-center",children:"BoatRamp Dashboard"}),Object(H.jsx)(ce,{}),Object(H.jsx)(T.a,{className:"card-container mt-4 ml-3 mx-auto",variant:"outlined",children:Object(H.jsx)(I.a,{children:Object(H.jsx)(ne,{})})}),Object(H.jsx)(X,{})]})})),je=Object(l.d)(L,Object(l.a)(u.a));c.a.render(Object(H.jsx)(s.a,{store:je,children:Object(H.jsx)(pe,{})}),document.getElementById("root"))}},[[219,1,2]]]);
//# sourceMappingURL=main.ae677cfb.chunk.js.map